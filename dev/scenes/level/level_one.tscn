[gd_scene load_steps=16 format=2]

[ext_resource path="res://scenes/level/scene_objects/city_hall.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/level/scene_objects/archway.tscn" type="PackedScene" id=2]
[ext_resource path="res://scenes/char_playable/witch_camera_rig.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/level/scene_objects/l1_floor.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/level/scene_objects/haunted_house_rear_door.tscn" type="PackedScene" id=5]
[ext_resource path="res://scenes/level/scene_objects/traffic_light.tscn" type="PackedScene" id=6]
[ext_resource path="res://scenes/char_npc/ghost.tscn" type="PackedScene" id=7]
[ext_resource path="res://scenes/level/levelOne_end_of_level.gd" type="Script" id=8]
[ext_resource path="res://scenes/char_npc/evil_witch.tscn" type="PackedScene" id=9]
[ext_resource path="res://scenes/ent/powerup_spell.tscn" type="PackedScene" id=10]
[ext_resource path="res://scenes/ent/health_potion_pickup.tscn" type="PackedScene" id=11]

[sub_resource type="Environment" id=1]
background_mode = 1
background_color = Color( 0.109804, 0.109804, 0.376471, 1 )
ambient_light_color = Color( 0.4897, 0.4897, 0.83, 1 )
fog_enabled = true
fog_color = Color( 0.109804, 0.109804, 0.376471, 1 )

[sub_resource type="Curve3D" id=2]
_data = {
"points": PoolVector3Array( 0, 0, 0, 0, 0, 0, 2.22297, 0, -0.0142212, -0.535657, -9.53674e-07, -32.1123, 0.535657, 9.53674e-07, 32.1123, 4.61951, 0, 115.334, 0.402362, -9.53674e-07, -27.0683, -0.402362, 9.53674e-07, 27.0683, -1.19743, 4.00537, 239.352, -0.225494, 0.0537567, -19.7362, 0.225494, -0.0537567, 19.7362, -30.7737, 33.0648, 355.021, -3.70987, 0, -41.5931, 3.70987, 0, 41.5931, -24.2105, 33.6923, 488.605, -1.65273, 0.000228882, -28.6483, 1.65273, -0.000228882, 28.6483, 5.58838, 28.0514, 616.999, 0.70755, -6.10352e-05, -12.1354, -0.70755, 6.10352e-05, 12.1354, -6.35593, 33.0251, 703.958, 4.57846, -7.62939e-05, -24.4185, -4.57846, 7.62939e-05, 24.4185, -27.0929, 34.629, 818.044, -13.3825, 0, -60.6395, 13.3825, 0, 60.6395, -33.4302, 32.718, 1015.24 ),
"tilts": PoolRealArray( 0, 0, 0, 0, 0, 0, 0, 0, 0 )
}

[sub_resource type="Curve3D" id=3]
_data = {
"points": PoolVector3Array( -50.6192, 17.0216, 0.258453, 50.6192, -17.0216, -0.258453, -5.90211, -0.000968933, 1.87106, -30.8406, -9.39729, -7.41254, 30.8406, 9.39729, 7.41254, 187.834, 5.01693, -3.03262 ),
"tilts": PoolRealArray( 0, 0 )
}

[sub_resource type="BoxShape" id=4]
extents = Vector3( 150, 41.086, 3.62963 )

[node name="Spatial" type="Spatial"]

[node name="Scenery" type="Spatial" parent="."]

[node name="haunted_house_rear_door" parent="Scenery" instance=ExtResource( 5 )]
transform = Transform( 0.989621, 0, -0.1437, 0, 1, 0, 0.1437, 0, 0.989621, -34.9775, 32.699, 337.671 )

[node name="traffic_light" parent="Scenery" instance=ExtResource( 6 )]
transform = Transform( 1, 1.50996e-07, 0, -1.50996e-07, 1, 0, 0, 0, -1, -60.1549, 0, -445.329 )

[node name="traffic_light2" parent="Scenery" instance=ExtResource( 6 )]
transform = Transform( -1.62921e-07, 5.30863e-14, 1, 3.25841e-07, 1, 0, 1, -3.25841e-07, 1.62921e-07, 50.3218, 0, -440.661 )

[node name="traffic_light3" parent="Scenery" instance=ExtResource( 6 )]
transform = Transform( -1.62921e-07, -5.30863e-14, -1, -3.25841e-07, 1, 0, -1, -3.25841e-07, 1.62921e-07, -49.9178, 0, -323.372 )

[node name="floor" parent="Scenery" instance=ExtResource( 4 )]
transform = Transform( 0.9, 0, 0, 0, 0.9, 0, 0, 0, 0.9, 0, 0, 0 )

[node name="archway" parent="Scenery" instance=ExtResource( 2 )]
transform = Transform( -0.964091, 0, -0.265573, 0, 1, 0, 0.265573, 0, -0.964091, -37.2919, 29.0624, 1.72171 )

[node name="city_hall" parent="Scenery" instance=ExtResource( 1 )]
transform = Transform( -19.9824, 0, -0.838214, 0, 20, 0, 0.838214, 0, -19.9824, 47.8446, 1.07026, -268.222 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="Scenery"]
environment = SubResource( 1 )

[node name="PlayerPath" type="Path" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 14.5, -480 )
curve = SubResource( 2 )

[node name="Dolly" type="PathFollow" parent="PlayerPath"]

[node name="witch_camera_rig" parent="PlayerPath/Dolly" instance=ExtResource( 3 )]

[node name="Enemies" type="Spatial" parent="."]

[node name="StartGhosts" type="Path" parent="Enemies"]
transform = Transform( 0.908872, 0, 0.417074, 0, 1, 0, -0.417074, 0, 0.908872, -89.1915, 22.9675, -358.894 )
curve = SubResource( 3 )

[node name="FrontGhost" type="PathFollow" parent="Enemies/StartGhosts"]
transform = Transform( -0.0385883, 0.169746, 0.984731, 0.00846869, 0.985486, -0.169544, -0.999219, 0.00179697, -0.0394657, 13.1448, -4.6363, 1.38734 )
offset = 20.0
rotation_mode = 4

[node name="ghost" parent="Enemies/StartGhosts/FrontGhost" instance=ExtResource( 7 )]

[node name="MiddleGhost" type="PathFollow" parent="Enemies/StartGhosts"]
transform = Transform( -0.0252335, 0.232265, 0.972323, 0.00571117, 0.972652, -0.232195, -0.999665, -0.000305972, -0.0258698, 3.42581, -2.65204, 1.71508 )
offset = 10.0
rotation_mode = 4

[node name="ghost" parent="Enemies/StartGhosts/MiddleGhost" instance=ExtResource( 7 )]

[node name="BackGhost" type="PathFollow" parent="Enemies/StartGhosts"]
transform = Transform( -0.00559158, 0.316815, 0.94847, 6.65827e-05, 0.948485, -0.31682, -0.999984, -0.00170837, -0.00532462, -5.81721, -0.029441, 1.87061 )
offset = 0.1
rotation_mode = 4

[node name="ghost" parent="Enemies/StartGhosts/BackGhost" instance=ExtResource( 7 )]

[node name="OtherStartGhosts" type="Path" parent="Enemies"]
transform = Transform( -0.847854, 0, 0.53023, 0, 1, 0, -0.53023, 0, -0.847854, 77.5248, 22.9675, -358.894 )
curve = SubResource( 3 )

[node name="FrontGhost" type="PathFollow" parent="Enemies/OtherStartGhosts"]
transform = Transform( -0.0385883, 0.169746, 0.984731, 0.00846869, 0.985486, -0.169544, -0.999219, 0.00179697, -0.0394657, 13.1448, -4.6363, 1.38734 )
offset = 20.0
rotation_mode = 4

[node name="ghost" parent="Enemies/OtherStartGhosts/FrontGhost" instance=ExtResource( 7 )]

[node name="MiddleGhost" type="PathFollow" parent="Enemies/OtherStartGhosts"]
transform = Transform( -0.0252335, 0.232265, 0.972323, 0.00571117, 0.972652, -0.232195, -0.999665, -0.000305972, -0.0258698, 3.42581, -2.65204, 1.71508 )
offset = 10.0
rotation_mode = 4

[node name="ghost" parent="Enemies/OtherStartGhosts/MiddleGhost" instance=ExtResource( 7 )]

[node name="BackGhost" type="PathFollow" parent="Enemies/OtherStartGhosts"]
transform = Transform( -0.00559158, 0.316815, 0.94847, 6.65827e-05, 0.948485, -0.31682, -0.999984, -0.00170837, -0.00532463, -5.81721, -0.029441, 1.87061 )
offset = 0.1
rotation_mode = 4

[node name="ghost" parent="Enemies/OtherStartGhosts/BackGhost" instance=ExtResource( 7 )]

[node name="Stationary Ghosts" type="Spatial" parent="Enemies"]
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, -24.8357, 10.4892, -271.222 )

[node name="ghost" parent="Enemies/Stationary Ghosts" instance=ExtResource( 7 )]

[node name="ghost2" parent="Enemies/Stationary Ghosts" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0, 0 )

[node name="ghost3" parent="Enemies/Stationary Ghosts" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, 0 )

[node name="EvilWitches" type="Spatial" parent="Enemies"]
transform = Transform( -0.994403, 0, -0.105656, 0, 1, 0, 0.105656, 0, -0.994403, -12.1035, 31.0979, 0 )

[node name="evil_witch" parent="Enemies/EvilWitches" instance=ExtResource( 9 )]

[node name="evil_witch2" parent="Enemies/EvilWitches" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.115664, 1.05683, 15.5166 )

[node name="evil_witch3" parent="Enemies/EvilWitches" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.279608, 1.05683, 31.4072 )

[node name="evil_witch" parent="Enemies" instance=ExtResource( 9 )]
transform = Transform( -0.916684, 0, -0.399613, 0, 1, 0, 0.399613, 0, -0.916684, -19.3687, 8.12841, -225.293 )

[node name="evil_witch2" parent="Enemies" instance=ExtResource( 9 )]
transform = Transform( -0.952646, 0, 0.304083, 0, 1, 0, -0.304083, 0, -0.952646, -81.3376, 14.8171, -175.716 )

[node name="EndOfLevel" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 36.5409, 470.395 )
script = ExtResource( 8 )

[node name="CollisionShape" type="CollisionShape" parent="EndOfLevel"]
shape = SubResource( 4 )

[node name="PowerUps" type="Spatial" parent="."]

[node name="Archway" type="Spatial" parent="PowerUps"]
transform = Transform( 0.950565, 0, 0.310527, 0, 1, 0, -0.310527, 0, 0.950565, -35.2043, 39.7017, 0 )

[node name="book" parent="PowerUps/Archway" instance=ExtResource( 10 )]
transform = Transform( 1, 0, 2.98023e-08, 0, 1, 0, -2.98023e-08, 0, 1, 15.0956, 0, 3.51694 )

[node name="potion" parent="PowerUps/Archway" instance=ExtResource( 11 )]
transform = Transform( 1, 0, 2.98023e-08, 0, 1, 0, -2.98023e-08, 0, 1, -20.3277, 0, -0.872508 )
[connection signal="body_entered" from="EndOfLevel" to="EndOfLevel" method="_on_EndOfLevel_body_entered"]
